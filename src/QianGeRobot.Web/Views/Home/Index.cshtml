@{
    ViewData["Title"] = "Home Page";
    Layout = null;
}

<html>
<head>
    <title>Qian Ge Robot Web</title>
</head>
<body>
    <div id="app">
        <calendar style="height: 5000px"
                  :view="view"
                  :task-view="taskView"
                  :schedule-view="scheduleView"
                  :calendars="calendarList"
                  :schedules="scheduleList"
                  :is-readOnly="isReadOnly"
                  :disable-dbl-click="disableDblClick"
                  :disable-click="disableClick"
                  :usage-statistics="usageStatistics"
                  :template="template"
                  :month="month" />
    </div>
    <link rel="stylesheet" type="text/css" href="https://uicdn.toast.com/tui-calendar/latest/tui-calendar.css" />

    <script src="https://cdn.bootcss.com/jquery/3.4.1/jquery.min.js"></script>

    <script src="https://cdn.bootcss.com/vue/2.6.10/vue.js"></script>
    <script src="https://uicdn.toast.com/tui.code-snippet/latest/tui-code-snippet.js"></script>
    <script src="https://uicdn.toast.com/tui-calendar/latest/tui-calendar.js"></script>
    <script src="https://unpkg.com/@@toast-ui/vue-calendar@1.1.0/dist/toastui-vue-calendar.js"></script>

    <script>
        var calendars = null,
            schedules = null;

        $.ajax({
            url: '@Url.Action("GetSchedules")',
            method: 'GET',
            success: function (data) {
                schedules = data;

                if (calendars) {
                    initVue();
                }
            }
        });

        $.ajax({
            url: '@Url.Action("GetCalendars")',
            method: 'GET',
            success: function (data) {
                calendars = data;

                if (schedules) {
                    initVue();
                }
            }
        });

        function initVue() {
            var app = new Vue({
            el: '#app',
            data: function () {
                return {
                    view: 'month',
                    taskView: ['task'],
                    scheduleView: false,
                    calendarList: calendars,
                    scheduleList: schedules,
                    isReadOnly: false,
                    disableDblClick: true,
                    usageStatistics: false,
                    disableClick: true,
                    template: {

                    },
                    month: {
                        startDayOfWeek: 1,
                        narrowWeekend: true,
                        visibleScheduleCount: 50
                    }
                }
            },
            methods: {
            },
            components: {
                calendar: toastui.Calendar
            }
        })
        }
    </script>
</body>
</html>